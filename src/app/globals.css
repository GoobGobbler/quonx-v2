@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import a typewriter-style or monospaced font */
/* Using Cutive Mono as specified in layout.tsx */
body {
  font-family: var(--font-cutive-mono), monospace;
}

@layer base {
  :root {
    /* Cool Muted 60s/70s Palette with Neon Accents - Dark Mode */
    --background: 210 10% 12%;    /* Dark Charcoal/Desaturated Blue */
    --foreground: 180 30% 85%;    /* Muted Teal/Cyan Text */

    --card: 210 10% 18%;          /* Slightly Lighter Charcoal */
    --card-foreground: 180 30% 85%; /* Muted Teal/Cyan */

    --popover: 210 10% 15%;       /* Darker Popover */
    --popover-foreground: 180 30% 90%; /* Slightly Brighter Muted Teal */

    --primary: 45 80% 60%;        /* Bright Mustard Yellow (Neon Accent) */
    --primary-foreground: 210 10% 5%;  /* Very Dark for contrast */

    --secondary: 180 60% 50%;    /* Strong Teal (Control Color) */
    --secondary-foreground: 210 10% 95%; /* Almost White for contrast */

    --muted: 210 8% 35%;          /* Muted Dark Gray/Blue */
    --muted-foreground: 210 8% 65%; /* Lighter Muted Gray/Blue */

    --accent: 300 80% 65%;        /* Vibrant Magenta/Pink (Neon Highlight) */
    --accent-foreground: 210 15% 5%; /* Very Dark for contrast */

    --destructive: 0 70% 55%;       /* Muted Red */
    --destructive-foreground: 0 0% 98%;

    --border: 180 30% 40%;        /* Muted Teal Border */
    --input: 210 10% 22%;         /* Dark Input Background */
    --ring: 45 90% 70%;           /* Bright Mustard Ring on focus */

    --chart-1: 180 60% 55%; /* Teal variations */
    --chart-2: 45 80% 65%;  /* Mustard variations */
    --chart-3: 300 70% 60%; /* Magenta variations */
    --chart-4: 180 40% 35%; /* Darker Teal */
    --chart-5: 45 60% 45%;  /* Darker Mustard */

    --radius: 0.1rem; /* Sharper corners */

    /* Sidebar variables - Adjusting to new theme */
    --sidebar-background: 210 10% 14%; /* Slightly darker sidebar */
    --sidebar-foreground: 180 30% 80%; /* Muted Teal */
    --sidebar-primary: 45 80% 60%;   /* Mustard */
    --sidebar-primary-foreground: 210 10% 5%;
    --sidebar-accent: 300 70% 60%;   /* Magenta */
    --sidebar-accent-foreground: 210 15% 95%;
    --sidebar-border: 180 30% 30%;   /* Darker Teal Border */
    --sidebar-ring: 45 90% 70%;    /* Mustard Ring */
  }

  /* Light mode (optional, example - could be a different vintage style) */
  .light {
    /* Example: Warm Analog Light Theme */
    --background: 35 30% 92%; /* Light Tan/Beige */
    --foreground: 30 30% 20%; /* Dark Brown */

    --card: 35 30% 88%;
    --card-foreground: 30 30% 20%;

    --popover: 35 30% 85%;
    --popover-foreground: 30 30% 20%;

    --primary: 20 90% 55%; /* Burnt Orange */
    --primary-foreground: 35 30% 5%; /* Very Dark Brown */

    --secondary: 90 30% 45%; /* Olive Green */
    --secondary-foreground: 35 30% 95%;

    --muted: 35 20% 80%;
    --muted-foreground: 35 20% 40%;

    --accent: 45 70% 60%; /* Mustard Yellow */
    --accent-foreground: 35 30% 10%;

    --destructive: 0 60% 50%;
    --destructive-foreground: 0 0% 98%;

    --border: 35 30% 70%; /* Tan Border */
    --input: 35 30% 85%;
    --ring: 20 95% 60%; /* Burnt Orange Ring */

    --chart-1: 90 30% 50%; /* Olive */
    --chart-2: 20 90% 60%; /* Orange */
    --chart-3: 45 70% 65%; /* Mustard */
    --chart-4: 90 25% 35%; /* Darker Olive */
    --chart-5: 20 70% 45%; /* Darker Orange */

    --radius: 0.1rem;

    --sidebar-background: 35 30% 85%;
    --sidebar-foreground: 30 30% 15%;
    --sidebar-primary: 20 90% 55%;
    --sidebar-primary-foreground: 35 30% 5%;
    --sidebar-accent: 90 30% 45%;
    --sidebar-accent-foreground: 35 30% 95%;
    --sidebar-border: 35 30% 65%;
    --sidebar-ring: 20 95% 60%;
  }
}

/* Subtle Grain Texture */
body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.05; /* Make it very subtle */
    pointer-events: none;
    z-index: 9999;
    mix-blend-mode: overlay;
}

/* Subtle Scan Line Effect */
body::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(hsla(var(--background) / 0.01) 50%, hsla(var(--foreground) / 0.03) 50%); /* Very subtle lines */
    background-size: 100% 2px; /* Thinner scan lines */
    z-index: 9998;
    pointer-events: none;
    animation: scanline 25s linear infinite; /* Slower animation */
    mix-blend-mode: multiply; /* Use multiply or overlay for different effect */
}

@keyframes scanline {
  0% { background-position: 0 0; }
  100% { background-position: 0 100vh; }
}

/* Optional: Add subtle flicker */
/* @keyframes flicker {
  0%, 100% { opacity: 0.99; }
  50% { opacity: 1; }
}
body { animation: flicker 0.1s infinite alternate; } */


@layer base {
  * {
    @apply border-border; /* Use muted teal border */
  }
  body {
    @apply bg-background text-foreground; /* Use charcoal bg, muted teal text */
    font-feature-settings: "liga" 0, "calt" 0;
    text-shadow: 0 0 2px hsla(var(--foreground) / 0.15); /* Even subtler text glow */
  }
}

/* Neon Glow Effect for Controls (Primary/Accent Colors) */
.neon-glow {
  box-shadow: 0 0 1px hsl(var(--primary)), 0 0 2px hsl(var(--primary)), inset 0 0 1px hsl(var(--primary) / 0.3);
  border-color: hsl(var(--primary) / 0.7);
  transition: box-shadow 0.2s ease-in-out, border-color 0.2s ease-in-out;
}
.neon-glow:focus, .neon-glow:hover {
   box-shadow: 0 0 2px hsl(var(--ring)), 0 0 4px hsl(var(--ring)), 0 0 6px hsl(var(--ring)), inset 0 0 1px hsl(var(--ring) / 0.4);
   border-color: hsl(var(--ring));
}
/* Specific application for buttons */
.btn-neon { /* Uses Primary (Mustard) */
    @apply neon-glow bg-transparent border text-primary hover:text-background hover:bg-primary;
}
.btn-neon-secondary { /* Uses Secondary (Teal) - Less Glow */
     @apply border border-secondary text-secondary hover:text-secondary-foreground hover:bg-secondary/90 shadow-[0_0_3px_hsl(var(--secondary)/0.3)] hover:shadow-[0_0_5px_hsl(var(--secondary)/0.5)];
     transition: box-shadow 0.2s ease-in-out, background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}
.btn-neon-accent { /* Uses Accent (Magenta) */
    @apply border border-accent text-accent hover:text-accent-foreground hover:bg-accent;
    box-shadow: 0 0 1px hsl(var(--accent)), 0 0 2px hsl(var(--accent)), inset 0 0 1px hsl(var(--accent) / 0.3);
    transition: box-shadow 0.2s ease-in-out, background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}
.btn-neon-accent:focus, .btn-neon-accent:hover {
    box-shadow: 0 0 2px hsl(var(--accent)), 0 0 4px hsl(var(--accent)), 0 0 6px hsl(var(--accent)), inset 0 0 1px hsl(var(--accent) / 0.4);
}
.btn-neon-destructive { /* Uses Destructive (Muted Red) - Minimal Glow */
     @apply border border-destructive text-destructive hover:text-destructive-foreground hover:bg-destructive/90 shadow-[0_0_2px_hsl(var(--destructive)/0.2)] hover:shadow-[0_0_4px_hsl(var(--destructive)/0.4)];
     transition: box-shadow 0.2s ease-in-out, background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}


/* Subtle Chromatic Aberration */
.chromatic-aberration-light {
  position: relative;
  color: transparent;
  background: none;
}
.chromatic-aberration-light::before,
.chromatic-aberration-light::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: none;
  pointer-events: none;
  text-shadow: none;
}
.chromatic-aberration-light::before {
  /* Red/Orange shift */
  color: hsl(15 100% 50% / 0.3); /* More subtle */
  transform: translate(-0.3px, -0.3px); /* Less shift */
  mix-blend-mode: screen;
  animation: glitch-subtle-1 4s infinite linear alternate-reverse;
}
.chromatic-aberration-light::after {
  /* Cyan/Blue shift */
  color: hsl(180 100% 50% / 0.3); /* More subtle */
  transform: translate(0.3px, 0.3px); /* Less shift */
  mix-blend-mode: screen;
  animation: glitch-subtle-2 4.5s infinite linear alternate-reverse;
}
@keyframes glitch-subtle-1 {
  0%, 100% { transform: translate(-0.3px, -0.3px); opacity: 0.95; }
  50% { transform: translate(-0.25px, -0.35px); opacity: 1; }
}
@keyframes glitch-subtle-2 {
   0%, 100% { transform: translate(0.3px, 0.3px); opacity: 0.95; }
   50% { transform: translate(0.35px, 0.25px); opacity: 1; }
}


/* Blinking cursor effect */
.terminal-input:focus {
  caret-color: hsl(var(--primary)); /* Use mustard caret */
  animation: blink-caret 1.2s step-end infinite;
}
@keyframes blink-caret {
  from, to { border-right: 2px solid hsl(var(--primary)); }
  50% { border-right-color: transparent; }
}


/* Style Scrollbars */
::-webkit-scrollbar {
  width: 6px; /* Thinner scrollbars */
  height: 6px;
}
::-webkit-scrollbar-track {
  background: hsl(var(--background) / 0.3);
  border-radius: 0; /* Sharp corners */
}
::-webkit-scrollbar-thumb {
  background: hsl(var(--border) / 0.6); /* Muted teal thumb */
  border-radius: 0;
  border: none;
}
::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--border) / 0.8);
}

/* Basic popup styling */
.popup-overlay {
    position: fixed;
    inset: 0;
    background-color: hsla(var(--background) / 0.6); /* Less opaque overlay */
    backdrop-filter: blur(2px); /* Less blur */
    z-index: 50;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.2s ease-out;
}
.popup-content {
    background-color: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    padding: 1.5rem; /* p-6 */
    border-radius: var(--radius); /* Sharp corners */
    box-shadow: 0 0 10px hsla(var(--primary) / 0.1), 0 0 20px hsla(var(--primary) / 0.05); /* Mustard glow */
    max-width: 90%;
    max-height: 90%;
    overflow: auto;
    animation: scaleIn 0.25s ease-out;
    position: relative;
}
.popup-close-button {
    position: absolute;
    top: 0.5rem; /* p-2 */
    right: 0.5rem; /* p-2 */
    background: transparent;
    border: none;
    color: hsl(var(--muted-foreground));
    cursor: pointer;
    padding: 0.25rem; /* p-1 */
    border-radius: var(--radius);
    transition: color 0.2s, background-color 0.2s;
}
.popup-close-button:hover {
    color: hsl(var(--foreground));
    background-color: hsla(var(--muted)/ 0.5);
}
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
@keyframes scaleIn {
    from { transform: scale(0.97); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

/* Conceptual Styles (Commented Out - Requires JS/Component implementation) */
/*
.rotary-knob {
  appearance: none;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: radial-gradient(circle at center, hsl(var(--muted)), hsl(var(--input)));
  border: 2px solid hsl(var(--border));
  position: relative;
  cursor: pointer;
  transition: transform 0.1s linear;
}
.rotary-knob::after {
  content: '';
  position: absolute;
  top: 5px;
  left: 50%;
  transform: translateX(-50%);
  width: 2px;
  height: 10px;
  background-color: hsl(var(--primary));
  border-radius: 1px;
}
.rotary-knob:active { transform: scale(0.95); }

.tape-slider {
  appearance: none;
  width: 150px;
  height: 8px;
  background: hsl(var(--input));
  border: 1px solid hsl(var(--border));
  outline: none;
  border-radius: 0;
}
.tape-slider::-webkit-slider-thumb {
  appearance: none;
  width: 15px;
  height: 20px;
  background: hsl(var(--secondary));
  border: 1px solid hsl(var(--border));
  cursor: pointer;
  border-radius: 1px;
}
.tape-slider::-moz-range-thumb {
  width: 15px;
  height: 20px;
  background: hsl(var(--secondary));
  border: 1px solid hsl(var(--border));
  cursor: pointer;
  border-radius: 1px;
}
*/
